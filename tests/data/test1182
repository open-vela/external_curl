<testcase>
<info>
<keywords>
runtests.pl
</keywords>
</info>

#
# Client-side
<client>
<server>
none
</server>
<name>
Verify that runtests.pl accepts an exclude file with the -E option
</name>

<command type="perl">
%SRCDIR/runtests.pl -o TESTDIR=%SRCDIR/%LOGDIR/data -o LOGDIR=%SRCDIR/%LOGDIR/log -E %SRCDIR/%LOGDIR/test%TESTNUMBER-exclude-file 1
</command>
<precheck>
mkdir %SRCDIR/%LOGDIR/data ; mkdir %SRCDIR/%LOGDIR/log; cp %SRCDIR/data/test1 %SRCDIR/%LOGDIR/data; echo 'test:1:Test should not run for unit test %TESTNUMBER' > %SRCDIR/%LOGDIR/test%TESTNUMBER-exclude-file
</precheck>
<postcheck>
grep -q "Test should not run for unit test %TESTNUMBER" %SRCDIR/%LOGDIR/stdout%TESTNUMBER
</postcheck>

</client>

<verify>
<errorcode>
1
</errorcode>
</verify>

</testcase>
